<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Classes  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Section/Classes" class="dashAnchor"></a>

    <a title="Classes  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          NIOCore 2.36.0 Docs
        </a>
         (86% documented)
      </p>
    
      <div class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </div>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/apple/swift-nio">
            <img class="header-icon" src="img/gh.png" alt="GitHub"/>
            View on GitHub
          </a>
        </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="dash-feed://https%3A%2F%2Fapple.github.io%2Fswift-nio%2Fdocs%2F2.36.0%2FNIOCore%2Fdocsets%2FNIOCore.xml">
            <img class="header-icon" src="img/dash.png" alt="Dash"/>
            Install in Dash
          </a>
        </p>
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">NIOCore Reference</a>
      <img class="carat" src="img/carat.png" alt=""/>
      Classes  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/AcceptBackoffHandler.html">AcceptBackoffHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BackPressureHandler.html">BackPressureHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ByteToMessageHandler.html">ByteToMessageHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChannelHandlerContext.html">ChannelHandlerContext</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChannelHandlerContext.html#/s:7NIOCore21ChannelHandlerContextC12RemovalTokenV">– RemovalToken</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChannelPipeline.html">ChannelPipeline</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChannelPipeline/SynchronousOperations.html">– SynchronousOperations</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChannelPipeline/Position.html">– Position</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/EventLoopFuture.html">EventLoopFuture</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/IdleStateHandler.html">IdleStateHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/IdleStateHandler/IdleStateEvent.html">– IdleStateEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MessageToByteHandler.html">MessageToByteHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/NIOCloseOnErrorHandler.html">NIOCloseOnErrorHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/NIOFileHandle.html">NIOFileHandle</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/NIOFileHandle/Mode.html">– Mode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/NIOFileHandle/Flags.html">– Flags</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/NIONetworkInterface.html">NIONetworkInterface</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/NIOSingleStepByteToMessageProcessor.html">NIOSingleStepByteToMessageProcessor</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/RepeatedTask.html">RepeatedTask</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ByteToMessageDecoderError.html">ByteToMessageDecoderError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ByteToMessageDecoderError/PayloadTooLargeError.html">– PayloadTooLargeError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ChannelError.html">ChannelError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ChannelEvent.html">ChannelEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ChannelPipelineError.html">ChannelPipelineError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/CloseMode.html">CloseMode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/DecodingState.html">DecodingState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Endianness.html">Endianness</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/EventLoopError.html">EventLoopError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/IOData.html">IOData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/NIOBSDSocket.html">NIOBSDSocket</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/NIOBSDSocket/AddressFamily.html">– AddressFamily</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/NIOBSDSocket/ProtocolFamily.html">– ProtocolFamily</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/NIOBSDSocket/OptionLevel.html">– OptionLevel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/NIOBSDSocket/Option.html">– Option</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/NIOBSDSocket/Option.html">– Option</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/NIOEventLoopGroupProvider.html">NIOEventLoopGroupProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/NIOExplicitCongestionNotificationState.html">NIOExplicitCongestionNotificationState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SocketAddress.html">SocketAddress</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SocketAddress/IPv4Address.html">– IPv4Address</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SocketAddress/IPv6Address.html">– IPv6Address</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SocketAddress/UnixSocketAddress.html">– UnixSocketAddress</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SocketAddressError.html">SocketAddressError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SocketAddressError/FailedToParseIPByteBuffer.html">– FailedToParseIPByteBuffer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/System.html">System</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Array.html">Array</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/DispatchData.html">DispatchData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/DispatchQueue.html">DispatchQueue</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions.html#/EventLoopFuture">EventLoopFuture</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Optional.html">Optional</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/String.html">String</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ByteToMessageDecoder.html">ByteToMessageDecoder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Channel.html">Channel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ChannelCore.html">ChannelCore</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ChannelHandler.html">ChannelHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ChannelInboundHandler.html">ChannelInboundHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ChannelInboundInvoker.html">ChannelInboundInvoker</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols.html#/s:7NIOCore14ChannelInvokerP">ChannelInvoker</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ChannelOption.html">ChannelOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ChannelOutboundHandler.html">ChannelOutboundHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ChannelOutboundInvoker.html">ChannelOutboundInvoker</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/EventLoop.html">EventLoop</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/EventLoopGroup.html">EventLoopGroup</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/FileDescriptor.html">FileDescriptor</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MessageToByteEncoder.html">MessageToByteEncoder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MulticastChannel.html">MulticastChannel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/NIOClientTCPBootstrapProtocol.html">NIOClientTCPBootstrapProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/NIOClientTLSProvider.html">NIOClientTLSProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/NIOSingleStepByteToMessageDecoder.html">NIOSingleStepByteToMessageDecoder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/NIOSynchronousChannelOptions.html">NIOSynchronousChannelOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/RecvByteBufferAllocator.html">RecvByteBufferAllocator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/RemovableChannelHandler.html">RemovableChannelHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/SocketOptionProvider.html">SocketOptionProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/WriteObservingByteToMessageDecoder.html">WriteObservingByteToMessageDecoder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/_ChannelInboundHandler.html">_ChannelInboundHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/_ChannelOutboundHandler.html">_ChannelOutboundHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/_EmittingChannelHandler.html">_EmittingChannelHandler</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/AdaptiveRecvByteBufferAllocator.html">AdaptiveRecvByteBufferAllocator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/AddressedEnvelope.html">AddressedEnvelope</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/AddressedEnvelope/Metadata.html">– Metadata</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ByteBuffer.html">ByteBuffer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ByteBuffer/CopyBytesError.html">– CopyBytesError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ByteBuffer/LengthPrefixError.html">– LengthPrefixError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ByteBufferAllocator.html">ByteBufferAllocator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ByteBufferView.html">ByteBufferView</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChannelOptions.html">ChannelOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChannelOptions/Types.html">– Types</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChannelOptions/Storage.html">– Storage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChannelOptions/TCPConvenienceOption.html">– TCPConvenienceOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChannelOptions/TCPConvenienceOptions.html">– TCPConvenienceOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ChannelShouldQuiesceEvent.html">ChannelShouldQuiesceEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/CircularBuffer.html">CircularBuffer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/CircularBuffer/Index.html">– Index</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/EventLoopIterator.html">EventLoopIterator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/EventLoopPromise.html">EventLoopPromise</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/FileRegion.html">FileRegion</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/FixedSizeRecvByteBufferAllocator.html">FixedSizeRecvByteBufferAllocator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/IOError.html">IOError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/IOError/FailureDescription.html">– FailureDescription</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MarkedCircularBuffer.html">MarkedCircularBuffer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/NIOAny.html">NIOAny</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs.html#/s:7NIOCore45NIOAttemptedToRemoveHandlerMultipleTimesErrorV">NIOAttemptedToRemoveHandlerMultipleTimesError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/NIOClientTCPBootstrap.html">NIOClientTCPBootstrap</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/NIODeadline.html">NIODeadline</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/NIOInsecureNoTLS.html">NIOInsecureNoTLS</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/NIOMulticastNotImplementedError.html">NIOMulticastNotImplementedError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/NIOMulticastNotSupportedError.html">NIOMulticastNotSupportedError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/NIONetworkDevice.html">NIONetworkDevice</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/NIOPacketInfo.html">NIOPacketInfo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Scheduled.html">Scheduled</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/TimeAmount.html">TimeAmount</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs.html#/s:7NIOCore29_NIOEventLoopFutureIdentifierV">_NIOEventLoopFutureIdentifier</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7NIOCore15AllocatorOptiona">AllocatorOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7NIOCore28AllowRemoteHalfClosureOptiona">AllowRemoteHalfClosureOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7NIOCore14AutoReadOptiona">AutoReadOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7NIOCore13BacklogOptiona">BacklogOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7NIOCore20ChannelDuplexHandlera">ChannelDuplexHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7NIOCore20ConnectTimeoutOptiona">ConnectTimeoutOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7NIOCore36DatagramVectorReadMessageCountOptiona">DatagramVectorReadMessageCountOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7NIOCore24MaxMessagesPerReadOptiona">MaxMessagesPerReadOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/NIOSendable">NIOSendable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7NIOCore11NIOSendablea">NIOSendable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7NIOCore19RecvAllocatorOptiona">RecvAllocatorOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7NIOCore12SocketOptiona">SocketOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/SocketOptionLevel">SocketOptionLevel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7NIOCore17SocketOptionLevela">SocketOptionLevel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7NIOCore16SocketOptionNamea">SocketOptionName</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/SocketOptionValue">SocketOptionValue</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7NIOCore17SocketOptionValuea">SocketOptionValue</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7NIOCore20WriteBufferWaterMarka">WriteBufferWaterMark</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7NIOCore26WriteBufferWaterMarkOptiona">WriteBufferWaterMarkOption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7NIOCore15WriteSpinOptiona">WriteSpinOption</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>Classes</h1>
            <p>The following classes are available globally.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore20AcceptBackoffHandlerC"></a>
                    <a name="//apple_ref/swift/Class/AcceptBackoffHandler" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore20AcceptBackoffHandlerC">AcceptBackoffHandler</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A <code><a href="Protocols/ChannelHandler.html">ChannelHandler</a></code> that implements a backoff for a <code>ServerChannel</code> when accept produces an <code><a href="Structs/IOError.html">IOError</a></code>.
These errors are often recoverable by reducing the rate at which we call accept.</p>

                        <a href="Classes/AcceptBackoffHandler.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">AcceptBackoffHandler</span> <span class="p">:</span> <span class="kt"><a href="Typealiases.html#/s:7NIOCore20ChannelDuplexHandlera">ChannelDuplexHandler</a></span><span class="p">,</span> <span class="kt"><a href="Protocols/RemovableChannelHandler.html">RemovableChannelHandler</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-nio/tree/2.36.0/Sources/NIOCore/ChannelHandlers.swift#L21-L106">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore19BackPressureHandlerC"></a>
                    <a name="//apple_ref/swift/Class/BackPressureHandler" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore19BackPressureHandlerC">BackPressureHandler</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>ChannelHandler implementation which enforces back-pressure by stopping to read from the remote peer when it cannot write back fast enough.
It will start reading again once pending data was written.</p>

                        <a href="Classes/BackPressureHandler.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">BackPressureHandler</span> <span class="p">:</span> <span class="kt"><a href="Typealiases.html#/s:7NIOCore20ChannelDuplexHandlera">ChannelDuplexHandler</a></span><span class="p">,</span> <span class="kt"><a href="Protocols/RemovableChannelHandler.html">RemovableChannelHandler</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-nio/tree/2.36.0/Sources/NIOCore/ChannelHandlers.swift#L112-L153">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore16IdleStateHandlerC"></a>
                    <a name="//apple_ref/swift/Class/IdleStateHandler" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore16IdleStateHandlerC">IdleStateHandler</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Triggers an IdleStateEvent when a Channel has not performed read, write, or both operation for a while.</p>

                        <a href="Classes/IdleStateHandler.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">IdleStateHandler</span> <span class="p">:</span> <span class="kt"><a href="Typealiases.html#/s:7NIOCore20ChannelDuplexHandlera">ChannelDuplexHandler</a></span><span class="p">,</span> <span class="kt"><a href="Protocols/RemovableChannelHandler.html">RemovableChannelHandler</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-nio/tree/2.36.0/Sources/NIOCore/ChannelHandlers.swift#L156-L338">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore15ChannelPipelineC"></a>
                    <a name="//apple_ref/swift/Class/ChannelPipeline" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore15ChannelPipelineC">ChannelPipeline</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A list of <code><a href="Protocols/ChannelHandler.html">ChannelHandler</a></code>s that handle or intercept inbound events and outbound operations of a
<code><a href="Protocols/Channel.html">Channel</a></code>. <code>ChannelPipeline</code> implements an advanced form of the Intercepting Filter pattern
to give a user full control over how an event is handled and how the <code><a href="Protocols/ChannelHandler.html">ChannelHandler</a></code>s in a pipeline
interact with each other.</p>
<h1 id='creation-of-a-pipeline' class='heading'>Creation of a pipeline</h1>

<p>Each <code><a href="Protocols/Channel.html">Channel</a></code> has its own <code>ChannelPipeline</code> and it is created automatically when a new <code><a href="Protocols/Channel.html">Channel</a></code> is created.</p>
<h1 id='how-an-event-flows-in-a-pipeline' class='heading'>How an event flows in a pipeline</h1>

<p>The following diagram describes how I/O events are typically processed by <code><a href="Protocols/ChannelHandler.html">ChannelHandler</a></code>s in a <code>ChannelPipeline</code>.
An I/O event is handled by either a <code><a href="Protocols/ChannelInboundHandler.html">ChannelInboundHandler</a></code> or a <code><a href="Protocols/ChannelOutboundHandler.html">ChannelOutboundHandler</a></code>
and is forwarded to the next handler in the <code>ChannelPipeline</code> by calling the event propagation methods defined in
<code><a href="Classes/ChannelHandlerContext.html">ChannelHandlerContext</a></code>, such as <code>ChannelHandlerContext.fireChannelRead</code> and
<code>ChannelHandlerContext.write</code>.</p>
<pre class="highlight swift"><code>                                                   <span class="kt">I</span><span class="o">/</span><span class="kt">O</span> <span class="kt">Request</span>
                                                   <span class="n">via</span> <span class="p">`</span><span class="nv">Channel</span><span class="p">`</span> <span class="n">or</span>
                                                   <span class="p">`</span><span class="nv">ChannelHandlerContext</span><span class="p">`</span>
                                                     <span class="o">|</span>
 <span class="o">+---------------------------------------------------+---------------+</span>
 <span class="o">|</span>                           <span class="kt">ChannelPipeline</span>         <span class="o">|</span>               <span class="o">|</span>
 <span class="o">|</span>                                <span class="kt">TAIL</span>              <span class="p">\</span><span class="o">|/</span>              <span class="o">|</span>
 <span class="o">|</span>    <span class="o">+---------------------+</span>            <span class="o">+-----------+----------+</span>    <span class="o">|</span>
 <span class="o">|</span>    <span class="o">|</span> <span class="kt">Inbound</span> <span class="kt">Handler</span>  <span class="kt">N</span>  <span class="o">|</span>            <span class="o">|</span> <span class="kt">Outbound</span> <span class="kt">Handler</span>  <span class="mi">1</span>  <span class="o">|</span>    <span class="o">|</span>
 <span class="o">|</span>    <span class="o">+----------+----------+</span>            <span class="o">+-----------+----------+</span>    <span class="o">|</span>
 <span class="o">|</span>              <span class="o">/|</span><span class="p">\</span>                                  <span class="o">|</span>               <span class="o">|</span>
 <span class="o">|</span>               <span class="o">|</span>                                  <span class="p">\</span><span class="o">|/</span>              <span class="o">|</span>
 <span class="o">|</span>    <span class="o">+----------+----------+</span>            <span class="o">+-----------+----------+</span>    <span class="o">|</span>
 <span class="o">|</span>    <span class="o">|</span> <span class="kt">Inbound</span> <span class="kt">Handler</span> <span class="kt">N</span><span class="o">-</span><span class="mi">1</span> <span class="o">|</span>            <span class="o">|</span> <span class="kt">Outbound</span> <span class="kt">Handler</span>  <span class="mi">2</span>  <span class="o">|</span>    <span class="o">|</span>
 <span class="o">|</span>    <span class="o">+----------+----------+</span>            <span class="o">+-----------+----------+</span>    <span class="o">|</span>
 <span class="o">|</span>              <span class="o">/|</span><span class="p">\</span>                                  <span class="o">.</span>               <span class="o">|</span>
 <span class="o">|</span>               <span class="o">.</span>                                   <span class="o">.</span>               <span class="o">|</span>
 <span class="o">|</span> <span class="kt">ChannelHandlerContext</span><span class="o">.</span><span class="nf">fireIN_EVT</span><span class="p">()</span> <span class="kt">ChannelHandlerContext</span><span class="o">.</span><span class="kt">OUT_EVT</span><span class="p">()</span><span class="o">|</span>
 <span class="o">|</span>        <span class="p">[</span> <span class="n">method</span> <span class="n">call</span><span class="p">]</span>                       <span class="p">[</span><span class="n">method</span> <span class="n">call</span><span class="p">]</span>         <span class="o">|</span>
 <span class="o">|</span>               <span class="o">.</span>                                   <span class="o">.</span>               <span class="o">|</span>
 <span class="o">|</span>               <span class="o">.</span>                                  <span class="p">\</span><span class="o">|/</span>              <span class="o">|</span>
 <span class="o">|</span>    <span class="o">+----------+----------+</span>            <span class="o">+-----------+----------+</span>    <span class="o">|</span>
 <span class="o">|</span>    <span class="o">|</span> <span class="kt">Inbound</span> <span class="kt">Handler</span>  <span class="mi">2</span>  <span class="o">|</span>            <span class="o">|</span> <span class="kt">Outbound</span> <span class="kt">Handler</span> <span class="kt">M</span><span class="o">-</span><span class="mi">1</span> <span class="o">|</span>    <span class="o">|</span>
 <span class="o">|</span>    <span class="o">+----------+----------+</span>            <span class="o">+-----------+----------+</span>    <span class="o">|</span>
 <span class="o">|</span>              <span class="o">/|</span><span class="p">\</span>                                  <span class="o">|</span>               <span class="o">|</span>
 <span class="o">|</span>               <span class="o">|</span>                                  <span class="p">\</span><span class="o">|/</span>              <span class="o">|</span>
 <span class="o">|</span>    <span class="o">+----------+----------+</span>            <span class="o">+-----------+----------+</span>    <span class="o">|</span>
 <span class="o">|</span>    <span class="o">|</span> <span class="kt">Inbound</span> <span class="kt">Handler</span>  <span class="mi">1</span>  <span class="o">|</span>            <span class="o">|</span> <span class="kt">Outbound</span> <span class="kt">Handler</span>  <span class="kt">M</span>  <span class="o">|</span>    <span class="o">|</span>
 <span class="o">|</span>    <span class="o">+----------+----------+</span>            <span class="o">+-----------+----------+</span>    <span class="o">|</span>
 <span class="o">|</span>              <span class="o">/|</span><span class="p">\</span>             <span class="kt">HEAD</span>                 <span class="o">|</span>               <span class="o">|</span>
 <span class="o">+---------------+-----------------------------------+---------------+</span>
                 <span class="o">|</span>                                  <span class="p">\</span><span class="o">|/</span>
 <span class="o">+---------------+-----------------------------------+---------------+</span>
 <span class="o">|</span>               <span class="o">|</span>                                   <span class="o">|</span>               <span class="o">|</span>
 <span class="o">|</span>       <span class="p">[</span> <span class="kt">Socket</span><span class="o">.</span><span class="n">read</span> <span class="p">]</span>                    <span class="p">[</span> <span class="kt">Socket</span><span class="o">.</span><span class="n">write</span> <span class="p">]</span>         <span class="o">|</span>
 <span class="o">|</span>                                                                   <span class="o">|</span>
 <span class="o">|</span>  <span class="kt">SwiftNIO</span> <span class="kt">Internal</span> <span class="kt">I</span><span class="o">/</span><span class="kt">O</span> <span class="kt">Threads</span> <span class="p">(</span><span class="kt">Transport</span> <span class="kt">Implementation</span><span class="p">)</span>         <span class="o">|</span>
 <span class="o">+-------------------------------------------------------------------+</span>
</code></pre>

<p>An inbound event is handled by the inbound handlers in the head-to-tail direction as shown on the left side of the
diagram. An inbound handler usually handles the inbound data generated by the I/O thread on the bottom of the
diagram. The inbound data is often read from a remote peer via the actual input operation such as
<code>Socket.read</code>. If an inbound event goes beyond the tail inbound handler, it is discarded
silently, or logged if it needs your attention.</p>

<p>An outbound event is handled by the outbound handlers in the tail-to-head direction as shown on the right side of the
diagram. An outbound handler usually generates or transforms the outbound traffic such as write requests.
If an outbound event goes beyond the head outbound handler, it is handled by an I/O thread associated with the
<code><a href="Protocols/Channel.html">Channel</a></code>. The I/O thread often performs the actual output operation such as <code>Socket.write</code>.</p>

<p>For example, let us assume that we created the following pipeline:</p>
<pre class="highlight swift"><code><span class="kt">ChannelPipeline</span> <span class="n">p</span> <span class="o">=</span> <span class="o">...</span>
<span class="k">let</span> <span class="nv">future</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span> <span class="nv">handler</span><span class="p">:</span> <span class="kt">InboundHandlerA</span><span class="p">())</span><span class="o">.</span><span class="n">flatMap</span> <span class="p">{</span>
  <span class="n">p</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"2"</span><span class="p">,</span> <span class="nv">handler</span><span class="p">:</span> <span class="kt">InboundHandlerB</span><span class="p">())</span>
<span class="p">}</span><span class="o">.</span><span class="n">flatMap</span> <span class="p">{</span>
  <span class="n">p</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"3"</span><span class="p">,</span> <span class="nv">handler</span><span class="p">:</span> <span class="kt">OutboundHandlerA</span><span class="p">())</span>
<span class="p">}</span><span class="o">.</span><span class="n">flatMap</span> <span class="p">{</span>
  <span class="n">p</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"4"</span><span class="p">,</span> <span class="nv">handler</span><span class="p">:</span> <span class="kt">OutboundHandlerB</span><span class="p">())</span>
<span class="p">}</span><span class="o">.</span><span class="n">flatMap</span> <span class="p">{</span>
  <span class="n">p</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"5"</span><span class="p">,</span> <span class="nv">handler</span><span class="p">:</span> <span class="kt">InboundOutboundHandlerX</span><span class="p">())</span>
<span class="p">}</span>
<span class="c1">// Handle the future as well ....</span>
</code></pre>

<p>In the example above, a class whose name starts with <code>Inbound</code> is an inbound handler.
A class whose name starts with <code>Outbound</code> is an outbound handler.</p>

<p>In the given example configuration, the handler evaluation order is 1, 2, 3, 4, 5 when an event goes inbound.
When an event goes outbound, the order is 5, 4, 3, 2, 1.  On top of this principle, <code>ChannelPipeline</code> skips
the evaluation of certain handlers to shorten the stack depth:</p>

<ul>
<li>3 and 4 don&rsquo;t implement <code><a href="Protocols/ChannelInboundHandler.html">ChannelInboundHandler</a></code>, and therefore the actual evaluation order of an inbound event will be: 1, 2, and 5.</li>
<li>1 and 2 don&rsquo;t implement <code><a href="Protocols/ChannelOutboundHandler.html">ChannelOutboundHandler</a></code>, and therefore the actual evaluation order of a outbound event will be: 5, 4, and 3.</li>
<li>If 5 implements both <code><a href="Protocols/ChannelInboundHandler.html">ChannelInboundHandler</a></code> and <code><a href="Protocols/ChannelOutboundHandler.html">ChannelOutboundHandler</a></code>, the evaluation order of an inbound and a outbound event could be 125 and 543 respectively.</li>
</ul>

<p>Note:   Handlers may choose not to propagate messages down the pipeline immediately.  For example a handler may need to wait
for additional data before sending a protocol event to the next handler in the pipeline.  Due to this you can&rsquo;t assume that later handlers
in the pipeline will receive the same number of events as were sent, or that events of different types will arrive in the same order.
For example - a user event could overtake a data event if a handler is aggregating data events before propagating but immediately
propagating user events.</p>
<h1 id='forwarding-an-event-to-the-next-handler' class='heading'>Forwarding an event to the next handler</h1>

<p>As you might noticed in the diagram above, a handler has to invoke the event propagation methods in
<code><a href="Classes/ChannelHandlerContext.html">ChannelHandlerContext</a></code> to forward an event to its next handler.
Those methods include:</p>

<ul>
<li>Inbound event propagation methods defined in <code><a href="Protocols/ChannelInboundInvoker.html">ChannelInboundInvoker</a></code></li>
<li>Outbound event propagation methods defined in <code><a href="Protocols/ChannelOutboundInvoker.html">ChannelOutboundInvoker</a></code>.</li>
</ul>
<h1 id='building-a-pipeline' class='heading'>Building a pipeline</h1>

<p>A user is supposed to have one or more <code><a href="Protocols/ChannelHandler.html">ChannelHandler</a></code>s in a <code>ChannelPipeline</code> to receive I/O events (e.g. read) and
to request I/O operations (e.g. write and close).  For example, a typical server will have the following handlers
in each channel&rsquo;s pipeline, but your mileage may vary depending on the complexity and characteristics of the
protocol and business logic:</p>

<ul>
<li>Protocol Decoder - translates binary data (e.g. <code><a href="Structs/ByteBuffer.html">ByteBuffer</a></code>) into a struct / class</li>
<li>Protocol Encoder - translates a struct / class into binary data (e.g. <code><a href="Structs/ByteBuffer.html">ByteBuffer</a></code>)</li>
<li>Business Logic Handler - performs the actual business logic (e.g. database access)</li>
</ul>
<h1 id='thread-safety' class='heading'>Thread safety</h1>

<p>A <code><a href="Protocols/ChannelHandler.html">ChannelHandler</a></code> can be added or removed at any time because a <code>ChannelPipeline</code> is thread safe.</p>

                        <a href="Classes/ChannelPipeline.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">ChannelPipeline</span> <span class="p">:</span> <span class="kt"><a href="Protocols.html#/s:7NIOCore14ChannelInvokerP">ChannelInvoker</a></span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">ChannelPipeline</span><span class="p">:</span> <span class="kt">CustomDebugStringConvertible</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-nio/tree/2.36.0/Sources/NIOCore/ChannelPipeline.swift#L141-L947">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Synchronous%20View"></a>
                <a name="//apple_ref/swift/Section/Synchronous View" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Synchronous%20View"></a>
                  <h3 class="section-name"><span>Synchronous View</span>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore21ChannelHandlerContextC"></a>
                    <a name="//apple_ref/swift/Class/ChannelHandlerContext" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore21ChannelHandlerContextC">ChannelHandlerContext</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Every <code><a href="Protocols/ChannelHandler.html">ChannelHandler</a></code> has &ndash; when added to a <code><a href="Classes/ChannelPipeline.html">ChannelPipeline</a></code> &ndash; a corresponding <code>ChannelHandlerContext</code> which is
the way <code><a href="Protocols/ChannelHandler.html">ChannelHandler</a></code>s can interact with other <code><a href="Protocols/ChannelHandler.html">ChannelHandler</a></code>s in the pipeline.</p>

<p>Most <code><a href="Protocols/ChannelHandler.html">ChannelHandler</a></code>s need to send events through the <code><a href="Classes/ChannelPipeline.html">ChannelPipeline</a></code> which they do by calling the respective
method on their <code>ChannelHandlerContext</code>. In fact all the <code><a href="Protocols/ChannelHandler.html">ChannelHandler</a></code> default implementations just forward
the event using the <code>ChannelHandlerContext</code>.</p>

<p>Many events are instrumental for a <code><a href="Protocols/ChannelHandler.html">ChannelHandler</a></code>&lsquo;s life-cycle and it is therefore very important to send them
at the right point in time. Often, the right behaviour is to react to an event and then forward it to the next
<code><a href="Protocols/ChannelHandler.html">ChannelHandler</a></code>.</p>

                        <a href="Classes/ChannelHandlerContext.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">ChannelHandlerContext</span> <span class="p">:</span> <span class="kt"><a href="Protocols.html#/s:7NIOCore14ChannelInvokerP">ChannelInvoker</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-nio/tree/2.36.0/Sources/NIOCore/ChannelPipeline.swift#L1409-L1840">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/B2MDBuffer%20Helpers"></a>
                <a name="//apple_ref/swift/Section/B2MDBuffer Helpers" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/B2MDBuffer%20Helpers"></a>
                  <h3 class="section-name"><span>B2MDBuffer Helpers</span>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore20ByteToMessageHandlerC"></a>
                    <a name="//apple_ref/swift/Class/ByteToMessageHandler" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore20ByteToMessageHandlerC">ByteToMessageHandler</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A handler which turns a given <code><a href="Protocols/ByteToMessageDecoder.html">ByteToMessageDecoder</a></code> into a <code><a href="Protocols/ChannelInboundHandler.html">ChannelInboundHandler</a></code> that can then be added to a
<code><a href="Classes/ChannelPipeline.html">ChannelPipeline</a></code>.</p>

<p>Most importantly, <code>ByteToMessageHandler</code> handles the tricky buffer management for you and flattens out all
re-entrancy on <code>channelRead</code> that may happen in the <code><a href="Classes/ChannelPipeline.html">ChannelPipeline</a></code>.</p>

                        <a href="Classes/ByteToMessageHandler.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">ByteToMessageHandler</span><span class="o">&lt;</span><span class="kt">Decoder</span><span class="o">&gt;</span> <span class="k">where</span> <span class="kt">Decoder</span> <span class="p">:</span> <span class="kt"><a href="Protocols/ByteToMessageDecoder.html">ByteToMessageDecoder</a></span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">ByteToMessageHandler</span><span class="p">:</span> <span class="kt"><a href="Protocols/ChannelInboundHandler.html">ChannelInboundHandler</a></span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">ByteToMessageHandler</span><span class="p">:</span> <span class="kt"><a href="Protocols/RemovableChannelHandler.html">RemovableChannelHandler</a></span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">ByteToMessageHandler</span><span class="p">:</span> <span class="kt"><a href="Protocols/ChannelOutboundHandler.html">ChannelOutboundHandler</a></span><span class="p">,</span> <span class="n"><a href="Protocols/_ChannelOutboundHandler.html">_ChannelOutboundHandler</a></span> <span class="k">where</span> <span class="kt">Decoder</span><span class="p">:</span> <span class="kt"><a href="Protocols/WriteObservingByteToMessageDecoder.html">WriteObservingByteToMessageDecoder</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-nio/tree/2.36.0/Sources/NIOCore/Codec.swift#L375-L486">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/ByteToMessageHandler%3A%20ChannelInboundHandler"></a>
                <a name="//apple_ref/swift/Section/ByteToMessageHandler: ChannelInboundHandler" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/ByteToMessageHandler%3A%20ChannelInboundHandler"></a>
                  <h3 class="section-name"><span>ByteToMessageHandler: ChannelInboundHandler</span>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore20MessageToByteHandlerC"></a>
                    <a name="//apple_ref/swift/Class/MessageToByteHandler" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore20MessageToByteHandlerC">MessageToByteHandler</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A handler which turns a given <code><a href="Protocols/MessageToByteEncoder.html">MessageToByteEncoder</a></code> into a <code><a href="Protocols/ChannelOutboundHandler.html">ChannelOutboundHandler</a></code> that can then be added to a
<code><a href="Classes/ChannelPipeline.html">ChannelPipeline</a></code>.</p>

                        <a href="Classes/MessageToByteHandler.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">MessageToByteHandler</span><span class="o">&lt;</span><span class="kt">Encoder</span><span class="o">&gt;</span> <span class="p">:</span> <span class="kt"><a href="Protocols/ChannelOutboundHandler.html">ChannelOutboundHandler</a></span> <span class="k">where</span> <span class="kt">Encoder</span> <span class="p">:</span> <span class="kt"><a href="Protocols/MessageToByteEncoder.html">MessageToByteEncoder</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-nio/tree/2.36.0/Sources/NIOCore/Codec.swift#L745-L772">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore12RepeatedTaskC"></a>
                    <a name="//apple_ref/swift/Class/RepeatedTask" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore12RepeatedTaskC">RepeatedTask</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returned once a task was scheduled to be repeatedly executed on the <code><a href="Protocols/EventLoop.html">EventLoop</a></code>.</p>

<p>A <code>RepeatedTask</code> allows the user to <code>cancel()</code> the repeated scheduling of further tasks.</p>

                        <a href="Classes/RepeatedTask.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">RepeatedTask</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-nio/tree/2.36.0/Sources/NIOCore/EventLoop.swift#L52-L166">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore15EventLoopFutureC"></a>
                    <a name="//apple_ref/swift/Class/EventLoopFuture" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore15EventLoopFutureC">EventLoopFuture</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Holder for a result that will be provided later.</p>

<p>Functions that promise to do work asynchronously can return an <code>EventLoopFuture&lt;Value&gt;</code>.
The recipient of such an object can then observe it to be notified when the operation completes.</p>

<p>The provider of a <code>EventLoopFuture&lt;Value&gt;</code> can create and return a placeholder object
before the actual result is available. For example:</p>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">getNetworkData</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">NetworkResponse</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">promise</span> <span class="o">=</span> <span class="n">eventLoop</span><span class="o">.</span><span class="nf">makePromise</span><span class="p">(</span><span class="nv">of</span><span class="p">:</span> <span class="kt">NetworkResponse</span><span class="o">.</span><span class="k">self</span><span class="p">)</span>
    <span class="n">queue</span><span class="o">.</span><span class="k">async</span> <span class="p">{</span>
        <span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="k">do</span> <span class="kd">some</span> <span class="n">work</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span>
        <span class="n">promise</span><span class="o">.</span><span class="nf">succeed</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        <span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="k">if</span> <span class="n">it</span> <span class="n">fails</span><span class="p">,</span> <span class="n">instead</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span>
        <span class="n">promise</span><span class="o">.</span><span class="nf">fail</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">promise</span><span class="o">.</span><span class="n">futureResult</span>
<span class="p">}</span>
</code></pre>

<p>Note that this function returns immediately; the promise object will be given a value
later on. This behaviour is common to Future/Promise implementations in many programming
languages. If you are unfamiliar with this kind of object, the following resources may be
helpful:</p>

<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises">Javascript</a></li>
<li><a href="http://docs.scala-lang.org/overviews/core/futures.html">Scala</a></li>
<li><a href="https://docs.google.com/document/d/10WOZgLQaYNpOrag-eTbUm-JUCCfdyfravZ4qSOQPg1M/edit">Python</a></li>
</ul>

<p>If you receive a <code>EventLoopFuture&lt;Value&gt;</code> from another function, you have a number of options:
The most common operation is to use <code>flatMap()</code> or <code>map()</code> to add a function that will be called
with the eventual result.  Both methods returns a new <code>EventLoopFuture&lt;Value&gt;</code> immediately
that will receive the return value from your function, but they behave differently. If you have
a function that can return synchronously, the <code>map</code> function will transform the result of type
<code>Value</code> to a the new result of type <code>NewValue</code> and return an <code>EventLoopFuture&lt;NewValue&gt;</code>.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">networkData</span> <span class="o">=</span> <span class="nf">getNetworkData</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

<span class="c1">// When network data is received, convert it.</span>
<span class="k">let</span> <span class="nv">processedResult</span><span class="p">:</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">Processed</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">networkData</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="p">(</span><span class="nv">n</span><span class="p">:</span> <span class="kt">NetworkResponse</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Processed</span> <span class="k">in</span>
    <span class="o">...</span> <span class="n">parse</span> <span class="n">network</span> <span class="n">data</span> <span class="o">....</span>
    <span class="k">return</span> <span class="n">processedResult</span>
<span class="p">}</span>
</code></pre>

<p>If however you need to do more asynchronous processing, you can call <code>flatMap()</code>. The return value of the
function passed to <code>flatMap</code> must be a new <code>EventLoopFuture&lt;NewValue&gt;</code> object: the return value of <code>flatMap()</code> is
a new <code>EventLoopFuture&lt;NewValue&gt;</code> that will contain the eventual result of both the original operation and
the subsequent one.</p>
<pre class="highlight swift"><code><span class="c1">// When converted network data is available, begin the database operation.</span>
<span class="k">let</span> <span class="nv">databaseResult</span><span class="p">:</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">DBResult</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">processedResult</span><span class="o">.</span><span class="n">flatMap</span> <span class="p">{</span> <span class="p">(</span><span class="nv">p</span><span class="p">:</span> <span class="kt">Processed</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">DBResult</span><span class="o">&gt;</span> <span class="k">in</span>
    <span class="k">return</span> <span class="nf">someDatabaseOperation</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>In essence, future chains created via <code>flatMap()</code> provide a form of data-driven asynchronous programming
that allows you to dynamically declare data dependencies for your various operations.</p>

<p><code>EventLoopFuture</code> chains created via <code>flatMap()</code> are sufficient for most purposes. All of the registered
functions will eventually run in order. If one of those functions throws an error, that error will
bypass the remaining functions. You can use <code>flatMapError()</code> to handle and optionally recover from
errors in the middle of a chain.</p>

<p>At the end of an <code>EventLoopFuture</code> chain, you can use <code>whenSuccess()</code> or <code>whenFailure()</code> to add an
observer callback that will be invoked with the result or error at that point. (Note: If you ever
find yourself invoking <code>promise.succeed()</code> from inside a <code>whenSuccess()</code> callback, you probably should
use <code>flatMap()</code> or <code>cascade(to:)</code> instead.)</p>

<p><code>EventLoopFuture</code> objects are typically obtained by:</p>

<ul>
<li>Using <code>.flatMap()</code> on an existing future to create a new future for the next step in a series of operations.</li>
<li>Initializing an <code>EventLoopFuture</code> that already has a value or an error</li>
</ul>
<h3 id='threading-and-futures' class='heading'>Threading and Futures</h3>

<p>One of the major performance advantages of NIO over something like Node.js or Python’s asyncio is that NIO will
by default run multiple event loops at once, on different threads. As most network protocols do not require
blocking operation, at least in their low level implementations, this provides enormous speedups on machines
with many cores such as most modern servers.</p>

<p>However, it can present a challenge at higher levels of abstraction when coordination between those threads
becomes necessary. This is usually the case whenever the events on one connection (that is, one <code><a href="Protocols/Channel.html">Channel</a></code>) depend
on events on another one. As these <code><a href="Protocols/Channel.html">Channel</a></code>s may be scheduled on different event loops (and so different threads)
care needs to be taken to ensure that communication between the two loops is done in a thread-safe manner that
avoids concurrent mutation of shared state from multiple loops at once.</p>

<p>The main primitives NIO provides for this use are the <code><a href="Structs/EventLoopPromise.html">EventLoopPromise</a></code> and <code>EventLoopFuture</code>. As their names
suggest, these two objects are aware of event loops, and so can help manage the safety and correctness of your
programs. However, understanding the exact semantics of these objects is critical to ensuring the safety of your code.</p>
<h4 id='callbacks' class='heading'>Callbacks</h4>

<p>The most important principle of the <code><a href="Structs/EventLoopPromise.html">EventLoopPromise</a></code> and <code>EventLoopFuture</code> is this: all callbacks registered on
an <code>EventLoopFuture</code> will execute on the thread corresponding to the event loop that created the <code>Future</code>,
<em>regardless</em> of what thread succeeds or fails the corresponding <code><a href="Structs/EventLoopPromise.html">EventLoopPromise</a></code>.</p>

<p>This means that if <em>your code</em> created the <code><a href="Structs/EventLoopPromise.html">EventLoopPromise</a></code>, you can be extremely confident of what thread the
callback will execute on: after all, you held the event loop in hand when you created the <code><a href="Structs/EventLoopPromise.html">EventLoopPromise</a></code>.
However, if your code is handed an <code>EventLoopFuture</code> or <code><a href="Structs/EventLoopPromise.html">EventLoopPromise</a></code>, and you want to register callbacks
on those objects, you cannot be confident that those callbacks will execute on the same <code><a href="Protocols/EventLoop.html">EventLoop</a></code> that your
code does.</p>

<p>This presents a problem: how do you ensure thread-safety when registering callbacks on an arbitrary
<code>EventLoopFuture</code>? The short answer is that when you are holding an <code>EventLoopFuture</code>, you can always obtain a
new <code>EventLoopFuture</code> whose callbacks will execute on your event loop. You do this by calling
<code><a href="Classes/EventLoopFuture.html#/s:7NIOCore15EventLoopFutureC3hop2toACyxGAA0bC0_p_tF">EventLoopFuture.hop(to:)</a></code>. This function returns a new <code>EventLoopFuture</code> whose callbacks are guaranteed
to fire on the provided event loop. As an added bonus, <code>hopTo</code> will check whether the provided <code>EventLoopFuture</code>
was already scheduled to dispatch on the event loop in question, and avoid doing any work if that was the case.</p>

<p>This means that for any <code>EventLoopFuture</code> that your code did not create itself (via
<code><a href="Structs/EventLoopPromise.html#/s:7NIOCore16EventLoopPromiseV12futureResultAA0bC6FutureCyxGvp">EventLoopPromise.futureResult</a></code>), use of <code>hopTo</code> is <strong>strongly encouraged</strong> to help guarantee thread-safety. It
should only be elided when thread-safety is provably not needed.</p>

<p>The &ldquo;thread affinity&rdquo; of <code>EventLoopFuture</code>s is critical to writing safe, performant concurrent code without
boilerplate. It allows you to avoid needing to write or use locks in your own code, instead using the natural
synchronization of the <code><a href="Protocols/EventLoop.html">EventLoop</a></code> to manage your thread-safety. In general, if any of your <code><a href="Protocols/ChannelHandler.html">ChannelHandler</a></code>s
or <code>EventLoopFuture</code> callbacks need to invoke a lock (either directly or in the form of <code>DispatchQueue</code>) this
should be considered a code smell worth investigating: the <code><a href="Protocols/EventLoop.html">EventLoop</a></code>-based synchronization guarantees of
<code>EventLoopFuture</code> should be sufficient to guarantee thread-safety.</p>

                        <a href="Classes/EventLoopFuture.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">Value</span><span class="o">&gt;</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">EventLoopFuture</span><span class="p">:</span> <span class="kt">Equatable</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-nio/tree/2.36.0/Sources/NIOCore/EventLoopFuture.swift#L380-L433">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore13NIOFileHandleC"></a>
                    <a name="//apple_ref/swift/Class/NIOFileHandle" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore13NIOFileHandleC">NIOFileHandle</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A <code>NIOFileHandle</code> is a handle to an open file.</p>

<p>When creating a <code>NIOFileHandle</code> it takes ownership of the underlying file descriptor. When a <code>NIOFileHandle</code> is no longer
needed you must <code>close</code> it or take back ownership of the file descriptor using <code>takeDescriptorOwnership</code>.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>One underlying file descriptor should usually be managed by one <code>NIOFileHandle</code> only.</p>

</div><div class="aside aside-warning">
    <p class="aside-title">Warning</p>
    <p>Failing to manage the lifetime of a <code>NIOFileHandle</code> correctly will result in undefined behaviour.</p>

</div><div class="aside aside-warning">
    <p class="aside-title">Warning</p>
    <p><code>NIOFileHandle</code> objects are not thread-safe and are mutable. They also cannot be fully thread-safe as they refer to a global underlying file descriptor.</p>

</div>

                        <a href="Classes/NIOFileHandle.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">NIOFileHandle</span> <span class="p">:</span> <span class="kt"><a href="Protocols/FileDescriptor.html">FileDescriptor</a></span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">NIOFileHandle</span><span class="p">:</span> <span class="kt">CustomStringConvertible</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-nio/tree/2.36.0/Sources/NIOCore/FileHandle.swift#L32-L88">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore19NIONetworkInterfaceC"></a>
                    <a name="//apple_ref/swift/Class/NIONetworkInterface" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore19NIONetworkInterfaceC">NIONetworkInterface</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A representation of a single network interface on a system.</p>

                        <a href="Classes/NIONetworkInterface.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@available</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">deprecated</span><span class="p">,</span> <span class="nv">renamed</span><span class="p">:</span> <span class="s">"NIONetworkDevice"</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">NIONetworkInterface</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">NIONetworkInterface</span><span class="p">:</span> <span class="kt">CustomDebugStringConvertible</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">NIONetworkInterface</span><span class="p">:</span> <span class="kt">Equatable</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-nio/tree/2.36.0/Sources/NIOCore/Interfaces.swift#L55-L125">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore22NIOCloseOnErrorHandlerC"></a>
                    <a name="//apple_ref/swift/Class/NIOCloseOnErrorHandler" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore22NIOCloseOnErrorHandlerC">NIOCloseOnErrorHandler</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A <code><a href="Protocols/ChannelInboundHandler.html">ChannelInboundHandler</a></code> that closes the channel when an error is caught</p>

                        <a href="Classes/NIOCloseOnErrorHandler.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">NIOCloseOnErrorHandler</span> <span class="p">:</span> <span class="kt"><a href="Protocols/ChannelInboundHandler.html">ChannelInboundHandler</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-nio/tree/2.36.0/Sources/NIOCore/NIOCloseOnErrorHandler.swift#L17-L28">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/NIOSingleStepByteToMessageDecoder%3A%20ByteToMessageDecoder"></a>
                <a name="//apple_ref/swift/Section/NIOSingleStepByteToMessageDecoder: ByteToMessageDecoder" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/NIOSingleStepByteToMessageDecoder%3A%20ByteToMessageDecoder"></a>
                  <h3 class="section-name"><span>NIOSingleStepByteToMessageDecoder: ByteToMessageDecoder</span>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore35NIOSingleStepByteToMessageProcessorC"></a>
                    <a name="//apple_ref/swift/Class/NIOSingleStepByteToMessageProcessor" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore35NIOSingleStepByteToMessageProcessorC">NIOSingleStepByteToMessageProcessor</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>NIOSingleStepByteToMessageProcessor</code> uses a <code><a href="Protocols/NIOSingleStepByteToMessageDecoder.html">NIOSingleStepByteToMessageDecoder</a></code> to produce messages
from a stream of incoming bytes. It works like <code><a href="Classes/ByteToMessageHandler.html">ByteToMessageHandler</a></code> but may be used outside of the channel pipeline. This allows
processing of wrapped protocols in a general way.</p>

<p>A <code>NIOSingleStepByteToMessageProcessor</code> is first initialized with a <code><a href="Protocols/NIOSingleStepByteToMessageDecoder.html">NIOSingleStepByteToMessageDecoder</a></code>. Then
call <code>process</code> as each <code><a href="Structs/ByteBuffer.html">ByteBuffer</a></code> is received from the stream. The closure is called repeatedly with each message produced by
the decoder.</p>

<p>When your stream ends, call <code>finishProcessing</code> to ensure all buffered data is passed to your decoder. This will call <code>decodeLast</code>
one or more times with any remaining data.</p>
<h3 id='example' class='heading'>Example</h3>

<p>Below is an example of a protocol decoded by <code>TwoByteStringCodec</code> that is sent over HTTP. <code>RawBodyMessageHandler</code> forwards the headers
and trailers directly and uses <code>NIOSingleStepByteToMessageProcessor</code> to send whole decoded messages.</p>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">TwoByteStringCodec</span><span class="p">:</span> <span class="kt">NIOSingleStepByteToMessageDecoder</span> <span class="p">{</span>
    <span class="kd">typealias</span> <span class="kt">InboundOut</span> <span class="o">=</span> <span class="kt">String</span>

    <span class="kd">public</span> <span class="kd">func</span> <span class="nf">decode</span><span class="p">(</span><span class="nv">buffer</span><span class="p">:</span> <span class="k">inout</span> <span class="kt">ByteBuffer</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">InboundOut</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">buffer</span><span class="o">.</span><span class="nf">readString</span><span class="p">(</span><span class="nv">length</span><span class="p">:</span> <span class="mi">2</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">func</span> <span class="nf">decodeLast</span><span class="p">(</span><span class="nv">buffer</span><span class="p">:</span> <span class="k">inout</span> <span class="kt">ByteBuffer</span><span class="p">,</span> <span class="nv">seenEOF</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">InboundOut</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">try</span> <span class="k">self</span><span class="o">.</span><span class="nf">decode</span><span class="p">(</span><span class="nv">buffer</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">buffer</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">RawBodyMessageHandler</span><span class="p">:</span> <span class="kt">ChannelInboundHandler</span> <span class="p">{</span>
    <span class="kd">typealias</span> <span class="kt">InboundIn</span> <span class="o">=</span> <span class="kt">HTTPServerRequestPart</span> <span class="c1">// alias for HTTPPart&lt;HTTPRequestHead, ByteBuffer&gt;</span>
    <span class="c1">// This converts the body from ByteBuffer to String, our message type</span>
    <span class="kd">typealias</span> <span class="kt">InboundOut</span> <span class="o">=</span> <span class="kt">HTTPPart</span><span class="o">&lt;</span><span class="kt">HTTPRequestHead</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span>

    <span class="kd">private</span> <span class="k">var</span> <span class="nv">messageProcessor</span><span class="p">:</span> <span class="kt">NIOSingleStepByteToMessageProcessor</span><span class="o">&lt;</span><span class="kt">TwoByteStringCodec</span><span class="o">&gt;</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>

    <span class="kd">func</span> <span class="nf">channelRead</span><span class="p">(</span><span class="nv">context</span><span class="p">:</span> <span class="kt">ChannelHandlerContext</span><span class="p">,</span> <span class="nv">data</span><span class="p">:</span> <span class="kt">NIOAny</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">req</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="nf">unwrapInboundIn</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">do</span> <span class="p">{</span>
            <span class="k">switch</span> <span class="n">req</span> <span class="p">{</span>
            <span class="k">case</span> <span class="o">.</span><span class="nf">head</span><span class="p">(</span><span class="k">let</span> <span class="nv">head</span><span class="p">):</span>
                <span class="c1">// simply forward on the head</span>
                <span class="n">context</span><span class="o">.</span><span class="nf">fireChannelRead</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="nf">wrapInboundOut</span><span class="p">(</span><span class="o">.</span><span class="nf">head</span><span class="p">(</span><span class="n">head</span><span class="p">)))</span>
            <span class="k">case</span> <span class="o">.</span><span class="nf">body</span><span class="p">(</span><span class="k">let</span> <span class="nv">body</span><span class="p">):</span>
                <span class="k">if</span> <span class="k">self</span><span class="o">.</span><span class="n">messageProcessor</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
                    <span class="k">self</span><span class="o">.</span><span class="n">messageProcessor</span> <span class="o">=</span> <span class="kt">NIOSingleStepByteToMessageProcessor</span><span class="p">(</span><span class="kt">TwoByteStringCodec</span><span class="p">())</span>
                <span class="p">}</span>
                <span class="k">try</span> <span class="k">self</span><span class="o">.</span><span class="n">messageProcessor</span><span class="o">!.</span><span class="nf">process</span><span class="p">(</span><span class="nv">buffer</span><span class="p">:</span> <span class="n">body</span><span class="p">)</span> <span class="p">{</span> <span class="n">message</span> <span class="k">in</span>
                    <span class="k">self</span><span class="o">.</span><span class="nf">channelReadMessage</span><span class="p">(</span><span class="nv">context</span><span class="p">:</span> <span class="n">context</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="n">message</span><span class="p">)</span>
                <span class="p">}</span>
            <span class="k">case</span> <span class="o">.</span><span class="nf">end</span><span class="p">(</span><span class="k">let</span> <span class="nv">trailers</span><span class="p">):</span>
                <span class="c1">// Forward on any remaining messages and the trailers</span>
                <span class="k">try</span> <span class="k">self</span><span class="o">.</span><span class="n">messageProcessor</span><span class="p">?</span><span class="o">.</span><span class="nf">finishProcessing</span><span class="p">(</span><span class="nv">seenEOF</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span> <span class="n">message</span> <span class="k">in</span>
                    <span class="k">self</span><span class="o">.</span><span class="nf">channelReadMessage</span><span class="p">(</span><span class="nv">context</span><span class="p">:</span> <span class="n">context</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="n">message</span><span class="p">)</span>
                <span class="p">}</span>
                <span class="n">context</span><span class="o">.</span><span class="nf">fireChannelRead</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="nf">wrapInboundOut</span><span class="p">(</span><span class="o">.</span><span class="nf">end</span><span class="p">(</span><span class="n">trailers</span><span class="p">)))</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
            <span class="n">context</span><span class="o">.</span><span class="nf">fireErrorCaught</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// Forward on the body messages as whole messages</span>
    <span class="kd">func</span> <span class="nf">channelReadMessage</span><span class="p">(</span><span class="nv">context</span><span class="p">:</span> <span class="kt">ChannelHandlerContext</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">context</span><span class="o">.</span><span class="nf">fireChannelRead</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="nf">wrapInboundOut</span><span class="p">(</span><span class="o">.</span><span class="nf">body</span><span class="p">(</span><span class="n">message</span><span class="p">)))</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">private</span> <span class="kd">class</span> <span class="kt">DecodedBodyHTTPHandler</span><span class="p">:</span> <span class="kt">ChannelInboundHandler</span> <span class="p">{</span>
    <span class="kd">typealias</span> <span class="kt">InboundIn</span> <span class="o">=</span> <span class="kt">HTTPPart</span><span class="o">&lt;</span><span class="kt">HTTPRequestHead</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span>
    <span class="kd">typealias</span> <span class="kt">OutboundOut</span> <span class="o">=</span> <span class="kt">HTTPServerResponsePart</span>

    <span class="k">var</span> <span class="nv">msgs</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="kd">func</span> <span class="nf">channelRead</span><span class="p">(</span><span class="nv">context</span><span class="p">:</span> <span class="kt">ChannelHandlerContext</span><span class="p">,</span> <span class="nv">data</span><span class="p">:</span> <span class="kt">NIOAny</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">message</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="nf">unwrapInboundIn</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="k">switch</span> <span class="n">message</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">head</span><span class="p">(</span><span class="k">let</span> <span class="nv">head</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"head: </span><span class="se">\(</span><span class="n">head</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">body</span><span class="p">(</span><span class="k">let</span> <span class="nv">msg</span><span class="p">):</span>
            <span class="k">self</span><span class="o">.</span><span class="n">msgs</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">end</span><span class="p">(</span><span class="k">let</span> <span class="nv">trailers</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"trailers: </span><span class="se">\(</span><span class="n">trailers</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
            <span class="k">var</span> <span class="nv">responseBuffer</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">allocator</span><span class="o">.</span><span class="nf">buffer</span><span class="p">(</span><span class="nv">capacity</span><span class="p">:</span> <span class="mi">32</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">msg</span> <span class="k">in</span> <span class="n">msgs</span> <span class="p">{</span>
                <span class="n">responseBuffer</span><span class="o">.</span><span class="nf">writeString</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="n">responseBuffer</span><span class="o">.</span><span class="nf">writeStaticString</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="k">var</span> <span class="nv">headers</span> <span class="o">=</span> <span class="kt">HTTPHeaders</span><span class="p">()</span>
            <span class="n">headers</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"content-length"</span><span class="p">,</span> <span class="nv">value</span><span class="p">:</span> <span class="kt">String</span><span class="p">(</span><span class="n">responseBuffer</span><span class="o">.</span><span class="n">readableBytes</span><span class="p">))</span>

            <span class="n">context</span><span class="o">.</span><span class="nf">write</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="nf">wrapOutboundOut</span><span class="p">(</span><span class="kt">HTTPServerResponsePart</span><span class="o">.</span><span class="nf">head</span><span class="p">(</span>
                <span class="kt">HTTPResponseHead</span><span class="p">(</span><span class="nv">version</span><span class="p">:</span> <span class="o">.</span><span class="n">http1_1</span><span class="p">,</span>
                                 <span class="nv">status</span><span class="p">:</span> <span class="o">.</span><span class="n">ok</span><span class="p">,</span> <span class="nv">headers</span><span class="p">:</span> <span class="n">headers</span><span class="p">))),</span> <span class="nv">promise</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>

            <span class="n">context</span><span class="o">.</span><span class="nf">write</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="nf">wrapOutboundOut</span><span class="p">(</span><span class="kt">HTTPServerResponsePart</span><span class="o">.</span><span class="nf">body</span><span class="p">(</span>
                <span class="o">.</span><span class="nf">byteBuffer</span><span class="p">(</span><span class="n">responseBuffer</span><span class="p">))),</span> <span class="nv">promise</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
            <span class="n">context</span><span class="o">.</span><span class="nf">writeAndFlush</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="nf">wrapOutboundOut</span><span class="p">(</span><span class="kt">HTTPServerResponsePart</span><span class="o">.</span><span class="nf">end</span><span class="p">(</span><span class="kc">nil</span><span class="p">)),</span> <span class="nv">promise</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">group</span> <span class="o">=</span> <span class="kt">MultiThreadedEventLoopGroup</span><span class="p">(</span><span class="nv">numberOfThreads</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">bootstrap</span> <span class="o">=</span> <span class="kt">ServerBootstrap</span><span class="p">(</span><span class="nv">group</span><span class="p">:</span> <span class="n">group</span><span class="p">)</span><span class="o">.</span><span class="nf">childChannelInitializer</span><span class="p">({</span><span class="n">channel</span> <span class="k">in</span>
    <span class="n">channel</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="nf">configureHTTPServerPipeline</span><span class="p">(</span><span class="nv">withPipeliningAssistance</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">withErrorHandling</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span><span class="o">.</span><span class="n">flatMap</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span>
        <span class="n">channel</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="nf">addHandlers</span><span class="p">([</span><span class="kt">RawBodyMessageHandler</span><span class="p">(),</span> <span class="kt">DecodedBodyHTTPHandler</span><span class="p">()])</span>
    <span class="p">}</span>
<span class="p">})</span>
<span class="k">let</span> <span class="nv">channelFuture</span> <span class="o">=</span> <span class="n">bootstrap</span><span class="o">.</span><span class="nf">bind</span><span class="p">(</span><span class="nv">host</span><span class="p">:</span> <span class="s">"127.0.0.1"</span><span class="p">,</span> <span class="nv">port</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
</code></pre>

                        <a href="Classes/NIOSingleStepByteToMessageProcessor.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">NIOSingleStepByteToMessageProcessor</span><span class="o">&lt;</span><span class="kt">Decoder</span><span class="o">&gt;</span> <span class="k">where</span> <span class="kt">Decoder</span> <span class="p">:</span> <span class="kt"><a href="Protocols/NIOSingleStepByteToMessageDecoder.html">NIOSingleStepByteToMessageDecoder</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-nio/tree/2.36.0/Sources/NIOCore/SingleStepByteToMessageDecoder.swift#L187-L275">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2021 <a class="link" href="https://github.com/apple/swift-nio" target="_blank" rel="external noopener">SwiftNIO Team</a>. All rights reserved. (Last updated: 2021-12-16)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.1</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
    </section>
  </body>
</html>
